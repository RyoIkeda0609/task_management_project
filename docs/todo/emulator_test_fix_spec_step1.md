# Emulator Test Fix Spec - Step1

目的：
エミュレータテストで発見された問題を
曖昧さなく修正可能な粒度に分解する。

AI / 開発者は

- 期待される挙動
- 現在の問題
- 修正の方向性

を守って対応すること。

---

# ルール

- Domain ロジック変更禁止（UI問題が多いため）
- Application の仕様変更禁止
- 今回は Presentation 修正が中心
- API変更が必要な場合は提案に留める

---

---

# 1. オンボーディング

---

## 問題1：毎回表示される

### 現状

アプリ再起動時にも表示される。

### 期待

初回起動のみ。

### 修正指針

- 永続フラグで表示制御
- 完了時に保存

---

---

## 問題2：ボタン配置が押しづらい

### 現状

戻るを誤タップしやすい。

### 期待

画面1 → 画面2 → ホーム
を迷わず進める。

### 修正指針

- 戻る削除 or 位置変更
- primary action を明確化

---

---

# 2. ホーム（ゴール一覧）

---

## 問題：情報不足

### 追加したい

- カテゴリ
- 進捗

---

## 問題：並び順不明

### 期待

作成日時降順など、
基準が分かる。

---

---

# 3. ゴール詳細

---

## 問題1：MSが1つの時のレイアウト

### 期待

中央寄りすぎず自然に見える。

---

---

## 問題2：MS作成から戻れない

### エラー

GoError: nothing to pop

### 期待

正常に戻る。

### 修正指針

- push方法確認
- root遷移の扱い修正

---

---

## 問題3：ID表示が不親切

### 現状

Goal ID が見える。

### 期待

Goal名表示。

---

---

# 4. マイルストーン詳細

---

## 問題：編集・削除導線がない

→ 追加必要。

---

## 問題：「タスク追加」が反応しない

→ callback / navigation 要確認。

---

## 問題：ボタンが広すぎる

→ サイズ調整。

---

## 問題：ステータス変更が直感的でない

### 期待

タップで循環変更。

---

## 問題：削除モーダルが閉じない

→ pop 漏れ。

---

---

# 5. タスク作成

---

## 問題：任意なのに必須

→ バリデーション修正。

---

## 問題：MS ID 表示

→ 名前へ変更。

---

## 問題：キャンセルで黒画面

→ navigation stack 異常。

---

---

# 6. タスク詳細

---

## 問題：ボタンが多い

### 期待

1アクションで循環。

---

## 問題：戻り先が固定

### 期待

遷移元へ戻る。

---

## 問題：編集削除なし

→ 導線追加。

---

## 問題：ID表示

→ 非表示 or 名前へ。

---

---

# 7. 今日のタスク

---

## 問題：進捗計算

### 現状

Done のみ反映。

### 期待

Todo=0 / Doing=50 / Done=100

---

## 問題：詳細へ遷移不可

### 期待

- ステータス部分 → 更新
- それ以外 → 詳細

---

---

# 完了条件

- 期待挙動が再現できる
- クラッシュしない
- 不親切な情報が出ない
