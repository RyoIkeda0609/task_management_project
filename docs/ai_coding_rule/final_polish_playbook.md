# final_polish_playbook.md

最終研磨プレイブック（様式美・統一感・読み味の最大化）

目的：
アーキテクチャと責務分離はすでに高水準。
ここからは「プロが見て気持ちいいコード」へ仕上げる。

振る舞いは変更禁止。
依存方向も変更禁止。
やるのは表現の統一と密度の調整。

---

## 🎯 成功の定義

- どのファイルも同じリズムで読める
- 命名規則に揺れがない
- 予想通りの場所に処理がある
- レビュー時に迷子にならない

---

## 🧠 今からやるのは何か？

最適化ではない。
抽象化でもない。

**統一**である。

---

## 🔥 優先順位

1. 命名の統一
2. メソッド構造の統一
3. 例外処理スタイルの統一
4. return パターンの統一
5. ファイルの見た目の統一

---

## 1️⃣ 命名の統一

### 動詞ルール

UseCase は必ず

- create
- update
- delete
- fetch
- calculate
- attach
- detach
- mark

のいずれかから始める。

曖昧な動詞は禁止。
handle / process / do は削除対象。

---

### 真偽値

```:plainText
isX
hasX
canX
```

以外は禁止。

---

### List

複数形に統一。

---

## 2️⃣ メソッド構造の統一

UseCase は必ず：

```:plainText
validate
load
execute domain
save
return
```

この流れに揃える。

順番が違う場合は並び替える。

---

## 3️⃣ return の統一

可能な限り early return。
else を減らす。

---

## 4️⃣ 1メソッド1責務の徹底

2つ説明が必要なら分割。

---

## 5️⃣ private メソッド命名

外から読まれないが、
意味が推測できる名前にする。

---

## 6️⃣ コメントの削除チャレンジ

コメントを読まなくても分かるなら消す。
残るコメントは「なぜ」だけ。

---

## 7️⃣ 行の密度

空白行の使い方を揃える。
話題が変わるところでだけ空ける。

---

## 8️⃣ switch / if のリズム

同じ種類の判定は同じ順番にする。
読む人の予測を裏切らない。

---

## 9️⃣ 責務の置き場所の予測可能性

同じ種類の処理は
常に同じ層、同じ粒度へ。

---

## 🔟 import の美しさ

並び順を揃える。

- dart
- package
- project

---

## ✨ 最終形

- 書いた人が違っても同じに見える
- 新人がすぐ慣れる
- AI が迷わない

これが完成。

---

## 🚫 やってはいけない

- 新しい概念を入れる
- 設計を変える
- 共通化欲求に負ける

今回は「磨き」である。

---

## 🏁 完了チェック

AIは各PRで確認：

- 命名揺れていない？
- パターン守ってる？
- リズム壊してない？
- 行数減った？

YESならOK。
