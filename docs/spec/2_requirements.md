# 要件定義書

## 1. ドキュメント情報

| 項目               | 内容                         |
| ------------------ | ---------------------------- |
| **ドキュメント名** | 要件定義書                   |
| **版番号**         | 1.0                          |
| **最終更新日**     | 2026年2月1日                 |
| **対象プロダクト** | ゴール達成型タスク管理アプリ |
| **作成者**         | 企画・要件定義チーム         |

---

## 2. はじめに

本ドキュメントは、ゴール達成型タスク管理アプリが満たすべき要件を網羅した公式ドキュメントです。

以下を定義します：

- **業務要件**：ビジネス視点での要件
- **機能要件**：ユーザー視点での具体的な機能
- **非機能要件**：システム性能、セキュリティ、互換性などの非機能的要件
- **MVP定義**：初回リリースで実装する最小限の機能

---

## 3. 業務要件

### 3.1 利用形態

| 要件               | 内容                        |
| ------------------ | --------------------------- |
| **対象ユーザー**   | 個人（B2C）                 |
| **同時ユーザー数** | 1名（シングルユーザー想定） |
| **チーム機能**     | MVP では非対応              |
| **共有機能**       | MVP では非対応              |

### 3.2 認証・ログイン

| 要件               | 内容                                         | 理由                                 |
| ------------------ | -------------------------------------------- | ------------------------------------ |
| **ログイン**       | 不要                                         | 個人利用、オフライン前提             |
| **アカウント登録** | 不要                                         | MVPでは クラウド同期が不要           |
| **データ暗号化**   | アプリ内ではオプション（デバイス標準に依存） | ローカルデバイスのセキュリティに依存 |

### 3.3 営業・リリース要件

| 要件                     | 内容                                           |
| ------------------------ | ---------------------------------------------- |
| **販売形態**             | 買い切り型（1,000円）                          |
| **販売プラットフォーム** | App Store（iOS）、Google Play Store（Android） |
| **対応言語**             | MVPは日本語のみ                                |
| **価格帯**               | 1,000円固定                                    |
| **無料版**               | なし（買い切りのみ）                           |

### 3.4 運用要件

| 要件               | 内容                                    |
| ------------------ | --------------------------------------- |
| **サポート形態**   | FAQ / メール対応（予定）                |
| **データセンター** | クラウドなし（MVP）                     |
| **バージョン管理** | App Store / Play Store の自動更新に依存 |

---

## 4. 機能要件

### 4.1 ゴール管理

#### 4.1.1 ゴール一覧表示

**概要**：すべてのゴールをリスト形式で表示

| 要件           | 内容                                                                        |
| -------------- | --------------------------------------------------------------------------- |
| **表示項目**   | • ゴール名<br>• 達成期限<br>• 進捗（%）<br>• ステータス（活動中/完了/延期） |
| **ソート**     | 期限が近い順（デフォルト）、進捗順、作成順                                  |
| **フィルター** | 活動中のみ表示、完了済みを含める                                            |
| **検索**       | ゴール名での部分一致検索                                                    |
| **表示上限**   | 無制限（スクロール対応）                                                    |

#### 4.1.2 ゴール作成

**概要**：新規ゴールの作成

| 項目           | 必須/任意 | 型       | 制約             |
| -------------- | --------- | -------- | ---------------- |
| **ゴール名**   | 必須      | テキスト | 最大100文字      |
| **達成期限**   | 必須      | 日付     | 本日より後の日付 |
| **カテゴリ**   | 任意      | 選択肢   | 以下から選択     |
| **理由・動機** | 任意      | テキスト | 最大500文字      |

**カテゴリ一覧（MVPでは追加機能なし）：**

- 学習・受験
- キャリア・仕事
- 健康・フィットネス
- 趣味・スポーツ
- 金銭・資産
- 人間関係
- その他

#### 4.1.3 ゴール編集

| 要件             | 内容                                     |
| ---------------- | ---------------------------------------- |
| **編集可能項目** | ゴール名、達成期限、カテゴリ、理由・動機 |
| **編集時の制約** | 期限の過去日付変更は可（遅延対応）       |

#### 4.1.4 ゴール削除

| 要件               | 内容                                                 |
| ------------------ | ---------------------------------------------------- |
| **削除方法**       | スワイプ削除、またはメニューから削除                 |
| **配下データ**     | 削除時、配下のマイルストーン・タスクもカスケード削除 |
| **確認ダイアログ** | 削除前に確認（取り消し不可を明示）                   |

#### 4.1.5 ゴール詳細表示

**概要**：ゴール詳細画面で、配下のマイルストーン・タスクを確認

| 表示内容                       | 詳細                                               |
| ------------------------------ | -------------------------------------------------- |
| **ゴール情報**                 | ゴール名、期限、進捗、カテゴリ、理由               |
| **マイルストーン一覧**         | 配下のすべてのマイルストーンを期限順に表示         |
| **タスク一覧（リストビュー）** | マイルストーン配下のタスクを表示                   |
| **ビュー切替ボタン**           | リストビュー / ピラミッドビュー / カレンダービュー |

### 4.2 マイルストーン管理

#### 4.2.1 マイルストーン作成

**概要**：ゴール配下にのみマイルストーンを作成

| 項目                 | 必須/任意 | 型       | 制約                 |
| -------------------- | --------- | -------- | -------------------- |
| **マイルストーン名** | 必須      | テキスト | 最大100文字          |
| **達成期限**         | 必須      | 日付     | ゴール期限以前の日付 |

**作成場所**：ゴール詳細画面内で「+ マイルストーン追加」ボタン

#### 4.2.2 マイルストーン編集

| 要件             | 内容                         |
| ---------------- | ---------------------------- |
| **編集可能項目** | マイルストーン名、達成期限   |
| **期限制約**     | 親ゴールの期限を超えないこと |

#### 4.2.3 マイルストーン削除

| 要件               | 内容                                 |
| ------------------ | ------------------------------------ |
| **削除方法**       | スワイプ削除、またはメニューから削除 |
| **配下データ**     | 削除時、配下のタスクもカスケード削除 |
| **確認ダイアログ** | 削除前に確認                         |

### 4.3 タスク管理

#### 4.3.1 タスク作成

**概要**：マイルストーン配下にのみタスクを作成

| 項目         | 必須/任意 | 型       | 制約                         |
| ------------ | --------- | -------- | ---------------------------- |
| **タスク名** | 必須      | テキスト | 最大100文字                  |
| **達成期限** | 必須      | 日付     | マイルストーン期限以前の日付 |
| **説明**     | 任意      | テキスト | 最大500文字                  |

**作成場所**：

- ゴール詳細画面内のマイルストーン行から「+ タスク追加」
- または「今日のタスク」画面から新規作成

#### 4.3.2 タスク編集

| 要件             | 内容                                                     |
| ---------------- | -------------------------------------------------------- |
| **編集可能項目** | タスク名、期限、説明                                     |
| **親の変更**     | マイルストーン（親）の変更は不可（タスク削除後に再作成） |

#### 4.3.3 タスク削除

| 要件               | 内容                                 |
| ------------------ | ------------------------------------ |
| **削除方法**       | スワイプ削除、またはメニューから削除 |
| **確認ダイアログ** | 削除前に確認                         |

#### 4.3.4 タスク状態管理

**概要**：タスクの進捗状態を管理

| 状態                | 説明               | 進捗 |
| ------------------- | ------------------ | ---- |
| **未着手（Todo）**  | まだ開始していない | 0%   |
| **進行中（Doing）** | 現在実行中         | 50%  |
| **完了（Done）**    | 完了した           | 100% |

**状態変更方法**：

- タスク一覧のステータスボタンをタップで切り替え
- タスク詳細画面で状態変更

**自動計算**：状態変更時に進捗を自動再計算

### 4.4 進捗管理

#### 4.4.1 自動計算ロジック

| 対象               | 計算方法                                        |
| ------------------ | ----------------------------------------------- |
| **タスク**         | 状態に応じて固定：Todo=0%, Doing=50%, Done=100% |
| **マイルストーン** | 配下タスク進捗の平均値                          |
| **ゴール**         | 配下マイルストーン進捗の平均値                  |

**例**：

```
ゴール「志望校合格」
├─ MS「共通テスト対策」(3タスク)
│  ├─ T「英語過去問」Done(100%)
│  ├─ T「数学過去問」Doing(50%)
│  └─ T「国語過去問」Todo(0%)
│  → MS進捗 = (100+50+0)/3 = 50%
├─ MS「二次試験対策」(2タスク)
│  ├─ T「数学論述」Doing(50%)
│  └─ T「英語論述」Todo(0%)
│  → MS進捗 = (50+0)/2 = 25%
→ ゴール進捗 = (50+25)/2 = 37.5%
```

#### 4.4.2 進捗表示

| 表示位置         | 表示形式                   |
| ---------------- | -------------------------- |
| **ゴール一覧**   | 進捗バー + 数値（%）       |
| **ゴール詳細**   | マイルストーン毎の進捗バー |
| **今日のタスク** | タスク毎のステータス表示   |

### 4.5 表示機能（ビュー）

#### 4.5.1 リストビュー（デフォルト）

**概要**：ゴール詳細画面内でマイルストーン配下のタスクをリスト表示

| 表示内容 | 詳細                                   |
| -------- | -------------------------------------- |
| **構造** | マイルストーン > タスク（階層表示）    |
| **項目** | タスク名、期限、ステータス             |
| **操作** | ステータス変更（インライン）、詳細表示 |

#### 4.5.2 ピラミッドビュー

**概要**：ゴール達成への階層構造を視覚化

| 表示内容     | 詳細                                               |
| ------------ | -------------------------------------------------- |
| **構造**     | 頂点：ゴール → 中層：マイルストーン → 底層：タスク |
| **視覚表現** | ピラミッド図で階層を表示                           |
| **進捗表示** | 各要素の進捗バーで色分け                           |

#### 4.5.3 カレンダービュー

**概要**：ゴール達成日までのスケジュールをカレンダー表示

| 表示内容       | 詳細                                         |
| -------------- | -------------------------------------------- |
| **期間**       | ゴール作成日 → ゴール期限日                  |
| **表示要素**   | マイルストーン期限（色A）、タスク期限（色B） |
| **今日の表示** | 本日の日付を強調                             |

### 4.6 今日のタスク表示

#### 4.6.1 今日のタスク一覧

**概要**：複数ゴール配下の本日のタスクを横断表示

| 表示内容       | 詳細                                                                                   |
| -------------- | -------------------------------------------------------------------------------------- |
| **抽出条件**   | 期限が本日のタスク（完了済みを含める/含めない選択可）                                  |
| **表示項目**   | • タスク名<br>• 親ゴール名（色分け）<br>• 親マイルストーン名（省略可）<br>• ステータス |
| **ソート**     | デフォルト：期限順（本来すべて本日）                                                   |
| **フィルター** | 未完了のみ、完了済みを含める                                                           |

#### 4.6.2 タスクのステータス変更

| 操作方法           | 詳細                                         |
| ------------------ | -------------------------------------------- |
| **インライン変更** | タスク行のステータスボタンを長押しで状態選択 |
| **詳細画面から**   | タスク詳細を開いて状態変更                   |

### 4.7 設定画面

#### 4.7.1 MVPでの実装

| 機能                   | 内容                                       | 優先度      |
| ---------------------- | ------------------------------------------ | ----------- |
| **データエクスポート** | JSON形式でのローカル出力                   | LOW（将来） |
| **データインポート**   | JSONからのリストア                         | LOW（将来） |
| **アプリ情報**         | バージョン、利用規約、プライバシーポリシー | MEDIUM      |
| **フィードバック**     | 開発者へのメール送信                       | MEDIUM      |

---

## 5. 非機能要件

### 5.1 パフォーマンス

| 要件                    | 目標値    |
| ----------------------- | --------- |
| **アプリ起動時間**      | 2秒以内   |
| **画面遷移速度**        | 500ms以内 |
| **リスト表示（100件）** | 1秒以内   |
| **進捗再計算**          | 100ms以内 |

### 5.2 対応環境

| 項目             | 要件                                         |
| ---------------- | -------------------------------------------- |
| **対応OS**       | iOS 12.0以上、Android 5.0以上                |
| **対応デバイス** | スマートフォン（主に）、タブレット対応も考慮 |
| **画面サイズ**   | 4.5インチ～7インチを想定                     |

### 5.3 デバイス互換性

| 項目                 | 要件                                                  |
| -------------------- | ----------------------------------------------------- |
| **縦横自動回転**     | 対応（設定で固定も可）                                |
| **ダークモード**     | OS標準に従う（MVP では固定可）                        |
| **アクセシビリティ** | VoiceOver (iOS) / TalkBack (Android) 対応（将来拡張） |

### 5.4 オフライン対応

| 要件                 | 内容                                 |
| -------------------- | ------------------------------------ |
| **ネットワーク要件** | インターネット接続不要               |
| **ローカル保存**     | デバイス内ストレージ（Hive採用）     |
| **永続性**           | アプリアンインストールまでデータ保持 |

### 5.5 セキュリティ

| 要件               | 内容                             |
| ------------------ | -------------------------------- |
| **ローカルデータ** | デバイスのファイルシステムに依存 |
| **通信**           | MVP では外部通信なし             |
| **権限**           | 必要最小限の権限を要求           |

### 5.6 ストレージ

| 要件                   | 目標値                                |
| ---------------------- | ------------------------------------- |
| **アプリサイズ**       | 50MB以下（理想）                      |
| **ローカルストレージ** | 最大100MB（1,000ゴール まで対応想定） |

### 5.7 データ保持

| 要件             | 内容                                    |
| ---------------- | --------------------------------------- |
| **削除データ**   | 完全削除（取り消し不可）                |
| **バックアップ** | ユーザー側で JSONエクスポート機能を利用 |
| **クラウド同期** | Phase 2 以降（MVP では非対応）          |

---

## 6. MVP定義（初回リリース）

### 6.1 実装対象機能

#### ✅ 実装する機能

| 機能                    | 優先度 |
| ----------------------- | ------ |
| ゴール CRUD             | MUST   |
| マイルストーン CRUD     | MUST   |
| タスク CRUD             | MUST   |
| タスク状態管理（3状態） | MUST   |
| 進捗自動計算            | MUST   |
| 今日のタスク表示        | MUST   |
| ゴール一覧表示          | MUST   |
| ゴール詳細表示          | MUST   |
| リストビュー            | MUST   |
| ピラミッドビュー        | MUST   |
| カレンダービュー        | MUST   |
| ローカル保存（Hive）    | MUST   |
| 初回オンボーディング    | MUST   |

#### ❌ 非実装機能（Phase 2 以降）

| 機能               | 理由                   | 計画時期           |
| ------------------ | ---------------------- | ------------------ |
| クラウド同期       | インフラ構築の工数大   | Phase 2（1年以内） |
| ユーザーアカウント | 同期と同時実装         | Phase 2            |
| 通知機能           | MVP では不要           | Phase 2            |
| AI提案機能         | 開発コスト大、優先度低 | Phase 3（2年以内） |
| SNS連携            | MVP では不要           | Phase 3            |
| テーマ変更         | シンプル性を損なう     | Phase 3            |
| テンプレート機能   | ユーザー主体思想と矛盾 | Phase 3            |
| 共有機能           | チーム未対応           | Phase 3 以上       |
| Webアプリ対応      | 開発工数大             | Phase 4（3年以上） |

### 6.2 MVP スコープの理由

MVP では以下の方針で機能を絞っています：

1. **「迷わない」を実現するために最小限の機能**
   - 3階層構造、3つのビュー、今日のタスク表示

2. **ユーザーの行動を促進する機能に集中**
   - タスク作成・編集・完了のシンプルフロー

3. **実装期間と品質のバランス**
   - MVP で 3ヶ月以内のリリースを想定
   - 後続機能は段階的追加

---

## 7. 用語定義

| 用語                 | 定義                                        |
| -------------------- | ------------------------------------------- |
| **ゴール**           | 最終的に達成したい目的                      |
| **マイルストーン**   | ゴール達成のための中間目標                  |
| **タスク**           | マイルストーン達成のための具体的行動        |
| **進捗**             | ゴール/マイルストーン/タスク達成度合い（%） |
| **MVP**              | 最小限の機能を備えた製品版                  |
| **オンボーディング** | 初回ユーザーの導入ガイド                    |

---

## 8. 変更履歴

| 版番号 | 変更内容 | 変更日       | 作成者         |
| ------ | -------- | ------------ | -------------- |
| 1.0    | 初版作成 | 2026年2月1日 | 要件定義チーム |
