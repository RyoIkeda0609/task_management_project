# 要件定義書

## 1. ドキュメント情報

| 項目           | 内容                                      |
| -------------- | ----------------------------------------- |
| ドキュメント名 | 要件定義書                                |
| 版番号         | 1.2                                       |
| 最終更新日     | 2026年2月1日                              |
| 対象プロダクト | ゴール達成型タスク管理アプリ              |
| 作成者         | プロダクトオーナー / 企画・要件定義チーム |

---

## 2. 本ドキュメントの位置づけ

本ドキュメントは、プロダクトコンセプト定義書（`1_product_concept.md`）で定義された思想を、
**実装可能な要件として具体化する公式文書**である。

- 実装・テストは本書の内容を満たすことを必須とする
- 本書に記載のない機能は、MVPでは実装対象外とする
- 本書の要件は、思想ドキュメントと矛盾してはならない

---

## 3. 業務要件

### 3.1 利用形態

| 項目       | 要件                     |
| ---------- | ------------------------ |
| 利用対象   | 個人利用（B2C）          |
| 同時利用   | 単一ユーザー（端末単位） |
| チーム利用 | 対象外                   |
| 共有機能   | 対象外                   |

### 3.2 認証・アカウント

| 項目           | 要件 | 補足                          |
| -------------- | ---- | ----------------------------- |
| ログイン       | 不要 | MVPではクラウド同期を行わない |
| アカウント登録 | 不要 | 将来拡張時に検討              |

### 3.3 販売・提供形態

| 項目       | 要件                    |
| ---------- | ----------------------- |
| 販売モデル | 買い切り型              |
| 価格       | 1,000円                 |
| 配信       | App Store / Google Play |
| 対応言語   | 日本語（MVP）           |

### 3.4 運用前提

| 項目           | 要件          |
| -------------- | ------------- |
| オフライン利用 | 必須          |
| データ保存     | 端末ローカル  |
| 通知           | MVPでは非対応 |

---

## 4. 機能要件

### 4.1 ゴール管理

#### 4.1.1 ゴール作成

| 項目       | 必須 | 内容・制約         |
| ---------- | ---- | ------------------ |
| ゴール名   | 必須 | 最大100文字        |
| 達成期限   | 必須 | 本日より後の日付   |
| カテゴリ   | 任意 | 固定リストから選択 |
| 理由・動機 | 任意 | 最大500文字        |

#### 4.1.2 ゴール表示

- ゴール一覧をリスト形式で表示する
- 表示項目：ゴール名 / 達成期限 / 進捗率（%）
- ゴールの進捗は自動計算された数値のみを表示する

※ ゴールに「ステータス（未着手・完了・延期等）」は存在しない

#### 4.1.3 ゴール編集

- 編集可能項目：ゴール名 / 達成期限 / カテゴリ / 理由・動機
- 達成期限は本日より後の日付のみ（過去日付への変更は不可）
- **進捗100%（完了）のゴールは編集不可（閲覧のみ）**

#### 4.1.4 ゴール削除

- ユーザー操作により削除可能
- 削除時は配下のマイルストーン・タスクをすべて削除（カスケード）
- 削除前に確認ダイアログを表示する
- **削除後の復元機能なし（ゴミ箱機能は将来検討）**

---

### 4.2 マイルストーン管理

#### 4.2.1 マイルストーン作成

| 項目             | 必須 | 内容・制約       |
| ---------------- | ---- | ---------------- |
| マイルストーン名 | 必須 | 最大100文字      |
| 達成期限         | 必須 | 親ゴール期限以前 |

- マイルストーンは必ずゴール配下に作成される

#### 4.2.2 マイルストーン表示

- ゴール詳細画面内に一覧表示する
- 表示項目：名称 / 達成期限 / 進捗率（%）
- 進捗は配下タスクの状態から自動計算される

※ マイルストーンに独立したステータスは存在しない

#### 4.2.3 マイルストーン編集・削除

- 編集可能項目：名称 / 達成期限
- **進捗100%（完了）のマイルストーンは編集不可（閲覧のみ）**
- 削除時は配下タスクをすべて削除（カスケード）
- **削除後の復元機能なし**

---

### 4.3 タスク管理

#### 4.3.1 タスク作成

| 項目     | 必須 | 内容・制約               |
| -------- | ---- | ------------------------ |
| タスク名 | 必須 | 最大100文字              |
| 達成期限 | 必須 | 親マイルストーン期限以前 |
| 説明     | 任意 | 最大500文字              |

- タスクは必ずマイルストーン配下に作成される
- ゴール直下へのタスク作成は不可

#### 4.3.2 タスク状態

タスクは以下の **3状態のみ** を持つ。

| 状態  | 意味   | 進捗 |
| ----- | ------ | ---- |
| Todo  | 未着手 | 0%   |
| Doing | 進行中 | 50%  |
| Done  | 完了   | 100% |

- 状態変更はユーザー操作でのみ行われる

#### 4.3.3 タスク編集・削除

- 編集可能項目：名称 / 期限 / 説明（状態が Done の場合は編集不可、閲覧のみ）
- 親マイルストーンの変更は不可
- 削除時は確認ダイアログを表示する
- **削除後の復元機能なし**

---

### 4.4 進捗管理

#### 4.4.1 自動計算ルール

- タスク進捗：状態により固定値
- マイルストーン進捗：配下タスク進捗の平均
- ゴール進捗：配下マイルストーン進捗の平均

進捗はすべて **自動計算のみ** とし、ユーザーが手動入力する項目は存在しない。

---

### 4.5 表示・ビュー機能

#### 4.5.1 リストビュー（デフォルト）

- マイルストーン → タスクの階層をリスト表示

#### 4.5.2 ピラミッドビュー

- ゴールを頂点とした階層構造を視覚的に表示

#### 4.5.3 カレンダービュー

- ゴール / マイルストーン / タスクを期限ベースで表示

#### 4.5.4 今日のタスク

- 複数ゴールを横断し、本日が期限のタスクを一覧表示
- 過期限タスク（期限が昨日以前）も一緒に表示する
- 本日タスク・過期限タスクが0件の場合：「本日やるタスクはありません」と表示

---

## 5. 非機能要件

### 5.1 パフォーマンス

- 通常操作は体感遅延なく完了すること

### 5.2 保守性

- 要件変更時に局所修正で対応可能な構造とする

### 5.3 拡張性

- 将来のクラウド同期を考慮し、ID設計を行う

---

## 6. MVP範囲外（明示）

以下は MVP では実装しない。

- 検索機能（Phase1.5以降）
- 通知機能
- クラウド同期
- AIによる計画提案
- チーム機能
