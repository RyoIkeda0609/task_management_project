# ゴール達成型タスク管理アプリ

## 0. はじめに

本ドキュメントは、個人向けモバイルアプリケーション「ゴール達成型タスク管理アプリ」の
**企画・要件定義・設計に関する成果物を体系的にまとめた公式ドキュメント**である。

本資料は以下を目的とする。

- 社内メンバーへの共有・合意形成
- 実装担当者（社内外・AI含む）への正確な仕様伝達
- 将来の機能拡張・運用に耐えるプロダクト資産の蓄積

---

## 1. 成果物一覧

| No  | 成果物               | 内容                           |
| --- | -------------------- | ------------------------------ |
| 1   | プロダクト概要書     | 企画背景・思想・戦略の整理     |
| 2   | 要件定義書           | 業務要件・機能要件・非機能要件 |
| 3   | 基本設計書           | 画面・機能・データ設計         |
| 4   | アーキテクチャ設計書 | Flutter実装方針・構造          |

---

## 2. プロダクト概要

### 2.1 企画背景

既存のタスク管理アプリの多くは以下に偏っている。

- 単発タスクやメモの管理
- 自由度が高く、構造設計をユーザーに委ねている

その結果、

- 何のためのタスクか分からなくなる
- ゴールから逆算した行動計画が立てられない
- 継続利用されにくい

という課題が存在する。

### 2.2 解決したい本質的課題

**「目的 → 計画 → 行動」への分解を人力で行うのは難しい**

### 2.3 プロダクトコンセプト

> **目的達成のために、今日やることが分かるアプリ**

### 2.4 コア思想

- ゴール → マイルストーン → タスク の構造を唯一の正解として提供
- 分解はユーザーが考えるが、構造はアプリが強制する
- ユーザーの思考負荷を極限まで減らす

### 2.5 想定ユーザー（代表ペルソナ）

- 高校2年生
- 大学受験を控え、志望校は決まっている
- 何をどの順番でやればよいか分からず不安を感じている

### 2.6 収益モデル

- 買い切り型
- 想定価格：1,000円
- 目標売上：月100万円（1,000DL）

---

## 3. 要件定義

### 3.1 業務要件

- 個人利用を前提とする
- ログイン不要
- オフライン利用可能
- ゴール達成体験を最優先する

### 3.2 機能要件

#### ゴール管理

- 複数ゴール作成可能（無制限）
- 入力項目：
  - ゴール名（必須）
  - 達成期限（必須）
  - カテゴリ（任意）
  - 理由・動機（任意）

#### マイルストーン管理

- ゴール配下にのみ作成可能
- ユーザーが手動で作成
- 期限必須

#### タスク管理

- マイルストーン配下にのみ作成可能
- 期限必須
- 状態：未着手 / 進行中 / 完了

#### 進捗管理

- 完全自動計算
- タスク：0 / 50 / 100%
- マイルストーン：配下タスク平均
- ゴール：配下マイルストーン平均

#### 表示機能

- ゴール一覧
- 今日のタスク一覧
- ピラミッドビュー
- カレンダービュー

### 3.3 非機能要件

- Flutter（iOS / Android）
- ローカルデータ保存（将来クラウド対応可能な設計）
- シンプルで直感的なUI
- MVPでは通知機能なし

---

## 4. 設計

### 4.1 機能一覧

- ゴールCRUD
- マイルストーンCRUD
- タスクCRUD
- 進捗自動計算
- ビュー切替

### 4.2 画面一覧

- 初回説明画面
- ゴール一覧（ホーム）
- ゴール詳細
- マイルストーン作成
- タスク詳細
- 今日のタスク
- 設定

### 4.3 画面遷移図（テキスト表現）

```
起動
 ↓
ゴール一覧
 ├─ ゴール作成
 ├─ ゴール詳細
 │    ├─ マイルストーン作成
 │    ├─ ピラミッドビュー
 │    └─ カレンダービュー
 └─ 今日のタスク
```

### 4.4 画面レイアウト方針

- 下タブナビゲーション
- 情報密度を抑え、1画面1役割

### 4.5 テーブル関連図（ER概要）

- Goal
  - id
  - title
  - deadline
  - category
  - reason

- Milestone
  - id
  - goal_id
  - title
  - deadline

- Task
  - id
  - milestone_id
  - title
  - deadline
  - status

### 4.6 インターフェース一覧

- GoalRepository
- MilestoneRepository
- TaskRepository

### 4.7 クラス図（概念）

- Goal
- Milestone
- Task

（Repository経由で永続化）

### 4.8 シーケンス図（例：タスク完了）

```
User → UI → UseCase → Repository → DB
                     ↓
                Progress再計算
```

### 4.9 ディレクトリ構成（Flutter想定）

```
lib/
 ├─ presentation/
 ├─ application/
 ├─ domain/
 └─ infrastructure/
```

### 4.10 状態管理方針

- Riverpod採用
- UseCase単位でStateを管理
- UIはStateに依存するのみ

### 4.11 アーキテクチャ構成

- クリーンアーキテクチャ
- DDDの考え方を採用
- ドメイン層を最重要視
- TDDを前提とした設計

---

## 5. まとめ

本ドキュメントは、
**「思想 → 要件 → 設計」までを一貫して定義したプロダクト資産**である。

本資料をもとに、実装・改善・拡張を行うことで、
長期的に価値を生み出すアプリケーションとなることを目指す。
